嵌入式-第一季-第8课 

第八课 linux网络配置
一．Vmware网络设置
Vmware和Linux的网络设施是相互联系的。我们的Linux是安装在我们的Vmware虚拟机上的，我们要联通linux系统的前提就是先将虚拟机的网络设置完成，否则后面的内容我们将无法操作。
Vmware提供了三种网络工作模式供用户选择，他们分别是：
bridged（桥接式模式）
外部网络经过路由器，连接计算机A（IP1），计算机B（IP2），虚拟机（IP3）。
如果网络中能提供多个IP地址，就是用桥接的方式。此时的计算机A相当于桥梁一样。
NAT（网络地址转换模式）
外部网络经过路由其，连接计算机A（IP1），计算机B（IP2）；其中虚拟机连接计算机A，与计算机A共享一个地址（IP1）。
如果网络中只能提供一个IP地址，就用NAT方式。
host-only（主机模式）
直接就是计算机A与Vmware相连接
如果安装虚拟机的主机没有连接任何外部网络，就是用主机模式。
Vmware网络设置的注意事项：
1. 选择网络模式前，停止虚拟机中系统的运行
配置完成后，重新启动虚拟机中的系统。
二．Linux网络设置
相关命令：
（1）ifconfig   查看各网卡的详细信息（如IP）以太网卡名字一般为“eth0”
（2）/etc/init.d/network restart    重启各网卡
    2. 配置步骤
（1）/etc/init.d/network restart    重启各网卡
在这里运行的结果将会报错，错误的原因的/etc/init.d/network restart 与NetworkManager冲突了。我们的解决办法是，关闭NetworkMager  ：service NetworkMager stop。对于重新装载的系统，我们要通过如下的命令来完成操作：/etc/init.d/NetworkManager  stop
（2）ifconfig   
运行结果是，没有发现以太网“eth0”
3 .  Linux常见网络接口
-eth0：系统中的第一块物理网卡，若电脑有两块以上的物理网卡，会以eth1，eth2等形式出现。
-lo：虚拟的回环网卡，并不是真正的网卡，而是软件虚拟出来的。
-virbr0：虚拟网桥
问题解决：ifconfig后面没有出现eth0
(1) 修改eth0网卡的配置文件，将ONBOOT=“no”改为“yes”
文件位置：etc/sysconfig/network-scripts/ifcfg-eth0
(2) /etc/init.d/network restart 重新启动网络
接下来，我们可以在，windows系统的左下角输入cmd启动管理员选项，输入：
ping (linux系统中给的地址)
本次课程中的使用的虚拟机网络设置是桥接，当用桥接的方式时，我们ping到的虚拟机的ip地址是路由器给的。经过测试若用NAT网络时发现有不妥，原因没找到。试过用主机模式设置虚拟机网络，可以很好地完成。
这一系列的操作中【TAB】的补足作用是十分重要的，可以省略很多不必要的工作。
【Ctrl】+【Alt】可以退出虚拟机界面。
当我们用主机模式进行的时候是不涉及上诉一系列问题的，只有用桥接的方式才存在。但是由于实验室用的路由器，是每一个电脑一个ip地址的，所以我们按教程去配置，会发现无法安排eth0的ip地址，这是因为路由器是无法给虚拟机分配地址的，该地址已经被我们的计算机用了。所以我们配置网络时，在实验室不可以用桥接的方式。我们使用主机模式和NAT模式时，我们得到的ip地址是一样的，用windows电脑的cmd都可以ping通。
在我们用主机模式时，由于这种情况下主机都是无法访问互联网的，我们当然也就无法让虚拟机里面的linux系统上网。但是，在其他两种网络配置可以行得通的情况下，我们都是可以使虚拟机中的linux系统上网的。
切记，所有的操作都是在root下运行的，即非管理员身份设置不了。